REQUIRE API_0: lib\WAPI.4 
REQUIRE GETXY lib\spf_getxy.f 

CR .( LIB LOAD=)  S" WRITEMSG.DLL" DROP DLL_L DUP H.
DUP 0= [IF] .( WRITEMSG.DLL LOAD ERROR) ABORT [THEN]
 CONSTANT WRITEMSGDLL

WRITEMSGDLL XAPI_1: WRITEMSG  WriteMessage

 CR .( LIB FUNC EXEC=) S" OK!!!" DROP WRITEMSG .


KERNEL32DLL XAPI_2: BEEP Beep

: TASKTST   0   BEGIN  BEEP44
 GETXY >R >R  0 0 SETXY ." TASKTST=" DUP . 
 R> R>  SETXY 1+ AGAIN ;

: TASKTSTDO \ RP@  444 - SP!
  TASKININ DECIMAL
  TASKTST ;

   555 80000 BEEP DROP

' TASKTSTDO TSTART

\ 0 0 SETXY 

\ TASKTST

\EOF
: TST BEGIN

 CR ." press any key - exit " KEY? UNTIL KEY DROP
 ABORT" DECOMPILER ERROR"
\ ABORT" DECOMPILER ERROR"
 ;

CR .( TST - TEST )
